webpackJsonp([2],{0:function(e,t,a){"use strict";var n=a(689),r=a(755),o=a(756);o.render(r.createElement(n.HomeHeader,null),document.getElementById("header")),o.render(r.createElement(n.MainSiderBar,null),document.getElementById("sidebar"))},689:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MainMenu=t.MainSiderBar=t.DrawerHeader=t.HomeHeader=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(690),c=n(l),u=a(753),p=n(u),d=a(757),f=n(d),m=a(1),h=a(153),v=(t.HomeHeader=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return m.createElement("header",{className:"main-header"},m.createElement("a",{href:"/",className:"logo"},"Karte"),m.createElement("nav",{className:"navbar navbar-static-top",role:"navigation"},m.createElement("div",{className:"navbar-custom-menu"},m.createElement("ul",{className:"nav navbar-nav"},m.createElement("li",null,m.createElement("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown"},"admin")),m.createElement("li",null,m.createElement("a",{href:"/karte/logout"},"退出")))),m.createElement(v,{ref:"menu"})))}}]),t}(m.Component),t.DrawerHeader=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;s>c;c++)l[c]=arguments[c];return a=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={title:""},i=a,o(n,i)}return i(t,e),s(t,[{key:"openMenu",value:function(){$(h.findDOMNode(this.refs.menu)).css("left","0px")}},{key:"render",value:function(){return m.createElement("header",{className:"main-header"},m.createElement("a",{href:"/",className:"logo"},"Karte"),m.createElement("nav",{className:"navbar navbar-static-top",role:"navigation"},m.createElement("a",{href:"#",className:"sidebar-toggle",onClick:this.openMenu.bind(this)},m.createElement("span",{className:"sr-only"},"Toggle navigation")),m.createElement("div",{className:"navbar-collapse pull-left collapse"},m.createElement("ul",{className:"nav navbar-nav"},m.createElement("li",null,m.createElement("span",null,(this.state.title||this.props.title)+this.props.extname)))),m.createElement("div",{className:"navbar-custom-menu"},m.createElement("ul",{className:"nav navbar-nav"},m.createElement("li",null,m.createElement("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown"},"admin")),m.createElement("li",null,m.createElement("a",{href:"/karte/logout"},"退出")))),m.createElement(v,{ref:"menu",fileId:this.props.id,fileTitle:this.props.title,header:this})))}}]),t}(m.Component),t.MainSiderBar=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return m.createElement("div",{className:"main-sidebar"},m.createElement("div",{className:"sidebar"},m.createElement("ul",{className:"sidebar-menu"},m.createElement("li",{className:"active"},m.createElement("a",{href:"/home"},m.createElement("i",{className:"glyphicon glyphicon-home"}),m.createElement("span",null,"我的文件"))))))}}]),t}(m.Component),t.MainMenu=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;s>c;c++)l[c]=arguments[c];return a=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={recent_files:[],current_file:null},i=a,o(n,i)}return i(t,e),s(t,[{key:"close",value:function(){$(h.findDOMNode(this)).css("left","-740px")}},{key:"handleUploadFile",value:function(){this.refs.fileUploader.open(),this.close()}},{key:"handleRenameFile",value:function(){this.refs.fileRenamer.open(),this.close()}},{key:"handleExportFile",value:function(){this.refs.fileExporter.open(),this.close()}},{key:"componentDidMount",value:function(){this.getRecentFile()}},{key:"getRecentFile",value:function(){var e=this;$.get("/karte/recent_files",function(t){"ok"==t.msg&&e.setState({recent_files:t.maps})})}},{key:"openFile",value:function(e){window.location="/file/"+e}},{key:"renderRecentFileList",value:function(){var e=this,t=this.state.recent_files.map(function(t,a){var n=(new Date).getTime(),r=new Date(t.modify_time).getTime(),o=(n-r)/864e5|0;return m.createElement("li",{className:"ng-scope",onClick:e.openFile.bind(e,t._id.$oid),key:a},m.createElement("span",{className:"icon"},m.createElement("i",{className:"fa fa-file-image-o"})),m.createElement("span",{className:"filename"},t.title+t.extname),m.createElement("span",{className:"info"},o," 天前"))});return t}},{key:"render",value:function(){return m.createElement("div",{className:"main-menu",tabIndex:"-1"},m.createElement("ul",{className:"tab-head"},m.createElement("li",{className:"close-menu",onClick:this.close.bind(this)},m.createElement("i",{className:"fa fa-chevron-left"})),m.createElement("li",{className:"main-menu-tool active"}," ",m.createElement("a",{href:"#tool-new","data-toggle":"tab"},m.createElement("span",null,"新建"))),m.createElement("li",{className:"main-menu-tool"}," ",m.createElement("a",{href:"#tool-open","data-toggle":"tab"},m.createElement("span",null,"打开"))),m.createElement("li",{className:"main-menu-tool"}," ",m.createElement("a",{href:"#tool-export","data-toggle":"tab"},m.createElement("span",null,"导出")))),m.createElement("div",{className:"tab-body tab-content"},m.createElement("div",{className:"tab-pane active",id:"tool-new"},m.createElement("h2",{className:"title"},"新建"),m.createElement("ul",{className:"template-list"},m.createElement("a",{href:"/karte/new_map"},m.createElement("li",{className:"template-item"},m.createElement("span",null,"空白地图"))))),m.createElement("div",{className:"tab-pane",id:"tool-open"},m.createElement("h2",{className:"title"},"打开"),m.createElement("h3",{className:"latest-files-title"},"最近使用的文件"),m.createElement("ul",{className:"latest-files"},this.renderRecentFileList()),m.createElement("a",{className:"go-home",href:"/home",target:"_self",title:"到我的文档里查看更多"},"到我的文档里查看更多.."),m.createElement("div",{className:"item import-file",onClick:this.handleUploadFile.bind(this)},m.createElement("i",{className:"glyphicon glyphicon-open icon"}),m.createElement("span",{className:"item-name"},"打开本地文件"),m.createElement("span",{className:"item-info"},"上传本地地图文件，并编辑"))),m.createElement("div",{className:"tab-pane",id:"tool-export"},m.createElement("h2",{className:"title"},"导出"),m.createElement("ul",{className:"items"},m.createElement("li",{className:"item",onClick:this.handleRenameFile.bind(this)},m.createElement("i",{className:"glyphicon glyphicon-edit icon"}),m.createElement("span",{className:"item-name"},"重命名"),m.createElement("span",{className:"item-info"},"重命名此文件")),m.createElement("li",{className:"item",onClick:this.handleExportFile.bind(this)},m.createElement("i",{className:"glyphicon glyphicon-save icon"}),m.createElement("span",{className:"item-name"},"导出"),m.createElement("span",{className:"item-info"},"将文件导出到本地（不包含第三方格式，.dxf 文件除外）"))))),m.createElement(c["default"],{ref:"fileUploader"}),m.createElement(p["default"],{ref:"fileRenamer",fileId:this.props.fileId,fileTitle:this.props.fileTitle,header:this.props.header}),m.createElement(f["default"],{ref:"fileExporter",fileId:this.props.fileId,fileTitle:this.props.fileTitle}))}}]),t}(m.Component))},690:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(691),l=n(s),c=a(736),u=n(c),p=a(732),d=n(p),f=a(737),m=n(f),h=a(741),v=n(h),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=a(1),b=(a(153),v["default"].Dragger),N=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;s>c;c++)l[c]=arguments[c];return a=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={showModal:!1,fileList:[]},n.uploadProps={name:"file",showUploadList:!0,action:"/karte/upload",accept:".dxf,.json,.kml"},i=a,o(n,i)}return i(t,e),g(t,[{key:"open",value:function(){this.setState({showModal:!0})}},{key:"close",value:function(){this.setState({showModal:!1})}},{key:"onUploadChange",value:function(e){var t=e.file,a=e.fileList;a=a.slice(-1),"done"==t.status&&(t.response.map?this.load(t.response.map):(this.setState({data:null}),m["default"].info("上传的文件格式错误!!",3),a=a.filter(function(e){return!e.response||"failed"!==e.response.msg}))),this.setState({fileList:a})}},{key:"load",value:function(e){if(e){var t=e._id.$oid;return this.close(),window.location="/file/"+t,!0}return m["default"].info("还未上传地图文件!",3),!1}},{key:"render",value:function(){return E.createElement(l["default"],{title:"打开文件",visible:this.state.showModal,onCancel:this.close.bind(this),footer:E.createElement(d["default"],{type:"primary",onClick:this.close.bind(this)},"确定")},E.createElement("form",{id:"mapUploader",action:"/karte/upload",method:"post",encType:"multipart/form-data"},E.createElement("div",{className:"modal-body"},E.createElement("div",{className:"form-group",style:{height:160}},E.createElement(b,y({},this.uploadProps,{onChange:this.onUploadChange.bind(this),fileList:this.state.fileList}),E.createElement(u["default"],{type:"plus"}),E.createElement("p",{className:"ant-upload-text"},"选择本地文件,或将文件拖拽到此区域上传"),E.createElement("p",{className:"ant-upload-hint"},"支持的格式：GeoJson 格式(.json), KML 格式(.kml), AutoCad DXF 格式(.dxf)"))))))}}]),t}(E.Component);t["default"]=N},741:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){}function o(){return!0}function i(e){return{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.filename||e.name,size:e.size,type:e.type,uid:e.uid,response:e.response,error:e.error,percent:0,originFileObj:e}}function s(){var e=.1,t=.01,a=.98;return function(n){return n>=a?n:(n+=e,e-=t,.001>e&&(e=.001),100*n)}}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var c=a(1),u=n(c),p=a(742),d=n(p),f=a(718),m=n(f),h=a(748),v=n(h),y=a(752),g=n(y),E="ant-upload",b=u["default"].createClass({displayName:"AntUpload",getInitialState:function(){return{fileList:this.props.fileList||this.props.defaultFileList||[],dragState:"drop"}},onStart:function(e){if(this.recentUploadStatus!==!1){var t=void 0,a=this.state.fileList.concat();e.length>0?(t=e.map(function(e){return e=i(e),e.status="uploading",e}),a=a.concat(t)):(t=i(e),t.status="uploading",a.push(t)),this.onChange({file:t,fileList:a}),window.FormData||this.autoUpdateProgress(0,t)}},autoUpdateProgress:function(e,t){var a=this,n=s(),r=0;this.progressTimer=setInterval(function(){r=n(r),a.onProgress({percent:r},t)},200)},removeFile:function(e){var t=this.state.fileList,a=(0,g["default"])(e,t),n=t.indexOf(a);return-1!==n?(t.splice(n,1),t):null},onSuccess:function(e,t){this.clearProgressTimer();try{"string"==typeof e&&JSON.parse(e)}catch(a){return void this.onError(new Error("No response"),e,t)}var n=this.state.fileList,r=(0,g["default"])(t,n);r&&(r.status="done",r.response=e,this.onChange({file:r,fileList:n}))},onProgress:function(e,t){var a=this.state.fileList,n=(0,g["default"])(t,a);n&&(n.percent=e.percent,this.onChange({event:e,file:t,fileList:this.state.fileList}))},onError:function(e,t,a){this.clearProgressTimer();var n=this.state.fileList,r=(0,g["default"])(a,n);r.error=e,r.response=t,r.status="error",this.handleRemove(r)},beforeUpload:function(e){return this.recentUploadStatus=this.props.beforeUpload(e),this.recentUploadStatus},handleRemove:function(e){var t=this.removeFile(e);t&&this.onChange({file:e,fileList:t})},handleManualRemove:function(e){e.status="removed",this.handleRemove(e)},onChange:function(e){this.setState({fileList:e.fileList}),this.props.onChange(e)},getDefaultProps:function(){return{type:"select",name:"",multipart:!1,action:"",data:{},accept:"",onChange:r,beforeUpload:o,showUploadList:!0,listType:"text",className:""}},componentWillReceiveProps:function(e){"fileList"in e&&this.setState({fileList:e.fileList})},onFileDrop:function(e){this.setState({dragState:e.type})},clearProgressTimer:function(){clearInterval(this.progressTimer)},render:function(){var e=this.props.type||"select",t=(0,m["default"])({},this.props,{onStart:this.onStart,onError:this.onError,onProgress:this.onProgress,onSuccess:this.onSuccess,beforeUpload:this.beforeUpload}),a=void 0;if(this.props.showUploadList&&(a=u["default"].createElement(v["default"],{listType:this.props.listType,items:this.state.fileList,onRemove:this.handleManualRemove})),"drag"===e){var n=this.state.fileList.some(function(e){return"uploading"===e.status})?E+"-drag-uploading":"",r="dragover"===this.state.dragState?E+"-drag-hover":"";return u["default"].createElement("span",{className:this.props.className},u["default"].createElement("div",{className:E+" "+E+"-drag "+n+" "+r,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,onDragLeave:this.onFileDrop},u["default"].createElement(d["default"],t,u["default"].createElement("div",{className:E+"-drag-container"},this.props.children))),a)}return"select"===e?u["default"].createElement("span",{className:this.props.className},u["default"].createElement("div",{className:E+" "+E+"-select"},u["default"].createElement(d["default"],t,this.props.children)),a):void 0}});b.Dragger=u["default"].createClass({displayName:"Dragger",render:function(){return u["default"].createElement(b,l({},this.props,{type:"drag",style:{height:this.props.height}}))}}),t["default"]=b,e.exports=t["default"]},742:function(e,t,a){"use strict";e.exports=a(743)},743:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var o=a(1),i=n(o),s=a(744),l=n(s),c=a(747),u=n(c),p=i["default"].createClass({displayName:"Upload",propTypes:{forceAjax:o.PropTypes.bool,action:o.PropTypes.string,name:o.PropTypes.string,multipart:o.PropTypes.bool,onError:o.PropTypes.func,onSuccess:o.PropTypes.func,onProgress:o.PropTypes.func,onStart:o.PropTypes.func,data:o.PropTypes.object,accept:o.PropTypes.string,multiple:o.PropTypes.bool,beforeUpload:o.PropTypes.func,withCredentials:o.PropTypes.bool},getDefaultProps:function(){return{data:{},name:"file",forceAjax:!1,multipart:!1,onProgress:r,onStart:r,onError:r,onSuccess:r,multiple:!1,beforeUpload:null,withCredentials:!1}},render:function(){var e=this.props;return e.forceAjax||"undefined"!=typeof FormData?i["default"].createElement(l["default"],e):i["default"].createElement(u["default"],e)}});t["default"]=p,e.exports=t["default"]},744:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(745),o=n(r),i=a(1),s=n(i),l=a(746),c=n(l),u=s["default"].createClass({displayName:"AjaxUploader",propTypes:{multiple:i.PropTypes.bool,onStart:i.PropTypes.func,data:i.PropTypes.object,beforeUpload:i.PropTypes.func,withCredentials:i.PropTypes.bool},onChange:function(e){var t=e.target.files;this.uploadFiles(t)},onClick:function(){var e=this.refs.file;e&&(e.click(),e.value="")},onKeyDown:function(e){"Enter"===e.key&&this.onClick()},onFileDrop:function(e){if("dragover"===e.type)return e.preventDefault();var t=e.dataTransfer.files;this.uploadFiles(t),e.preventDefault()},uploadFiles:function(e){var t=e.length;if(t>0){for(var a=0;t>a;a++){var n=e.item(a);n.uid=(0,c["default"])(),this.upload(n)}this.props.multiple?this.props.onStart(Array.prototype.slice.call(e)):this.props.onStart(Array.prototype.slice.call(e)[0])}},upload:function(e){var t=this,a=this.props;if(!a.beforeUpload)return this.post(e);var n=a.beforeUpload(e);n&&n.then?n.then(function(){t.post(e)}):n!==!1&&this.post(e)},post:function(e){var t=this.props,a=t.data;"function"==typeof a&&(a=a()),(0,o["default"])({action:t.action,filename:t.name,file:e,data:a,withCredentials:t.withCredentials,onProgress:function(a){t.onProgress(a,e)},onSuccess:function(a){t.onSuccess(a,e)},onError:function(a,n){t.onError(a,n,e)}})},render:function(){var e={display:"none"},t=this.props;return s["default"].createElement("span",{onClick:this.onClick,onKeyDown:this.onKeyDown,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,role:"button",tabIndex:"0"},s["default"].createElement("input",{type:"file",ref:"file",style:e,accept:t.accept,multiple:this.props.multiple,onChange:this.onChange}),t.children)}});t["default"]=u,e.exports=t["default"]},745:function(e,t){"use strict";function a(e,t){var a="cannot post "+e.action+" "+t.status+"'",n=new Error(a);return n.status=t.status,n.method="post",n.url=e.action,n}function n(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(a){return t}}function r(e){if("undefined"!=typeof XMLHttpRequest){var t=new XMLHttpRequest;t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var r=new FormData;r.append(e.filename,e.file),e.data&&Object.keys(e.data).map(function(t){r.append(t,e.data[t])}),t.onerror=function(t){e.onError(t)},t.onload=function(){return 200!==t.status?e.onError(a(e,t),n(t)):void e.onSuccess(n(t))},e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0),t.open("post",e.action,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(r)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,e.exports=t["default"]},746:function(e,t){"use strict";function a(){return"rc-upload-"+n+"-"+ ++r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var n=+new Date,r=0;e.exports=t["default"]},747:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),o=n(r),i=a(153),s=n(i),l=a(746),c=n(l),u=a(186),p=n(u),d={position:"absolute",top:0,opacity:0,filter:"alpha(opacity=0)",left:0,zIndex:9999},f=o["default"].createClass({displayName:"IframeUploader",propTypes:{onStart:r.PropTypes.func,multiple:r.PropTypes.bool,children:r.PropTypes.any,data:r.PropTypes.object,action:r.PropTypes.string,name:r.PropTypes.string},componentDidMount:function(){this.updateIframeWH(),this.initIframe()},componentDidUpdate:function(){this.updateIframeWH()},onLoad:function(){if(this.loading){var e=this.props,t=void 0,a=this.file;try{var n=this.getIframeDocument(),r=n.getElementsByTagName("script")[0];r&&r.parentNode===n.body&&n.body.removeChild(r),t=n.body.innerHTML,e.onSuccess(t,a)}catch(o){(0,p["default"])(!1,"cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload"),t="cross-domain",e.onError(o,null,a)}this.enableIframe(),this.initIframe()}},onChange:function(){var e=this.getFormInputNode(),t=this.file={uid:(0,c["default"])(),name:e.value};this.props.onStart(this.getFileForMultiple(t));var a=this.getFormNode(),n=this.getFormDataNode(),r=this.props.data;"function"==typeof r&&(r=r());var o=[];for(var i in r)r.hasOwnProperty(i)&&o.push('<input name="'+i+'" value="'+r[i]+'"/>');n.innerHTML=o.join(""),a.submit(),n.innerHTML="",this.disabledIframe()},getIframeNode:function(){return this.refs.iframe},getIframeDocument:function(){return this.getIframeNode().contentDocument},getFormNode:function(){return this.getIframeDocument().getElementById("form")},getFormInputNode:function(){return this.getIframeDocument().getElementById("input")},getFormDataNode:function(){return this.getIframeDocument().getElementById("data")},getFileForMultiple:function(e){return this.props.multiple?[e]:e},getIframeHTML:function(e){var t="",a="";return e&&(t='<script>document.domain="'+e+'";</script>',a='<input name="_documentDomain" value="'+e+'" />'),'\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\n    </style>\n    '+t+'\n    </head>\n    <body>\n    <form method="post"\n    encType="multipart/form-data"\n    action="'+this.props.action+'" id="form" style="display:block;height:9999px;position:relative;overflow:hidden;">\n    <input id="input" type="file"\n     name="'+this.props.name+'"\n     style="position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;"/>\n    '+a+'\n    <span id="data"></span>\n    </form>\n    </body>\n    </html>\n    '},initIframeSrc:function(){this.domain&&(this.getIframeNode().src="javascript:void((function(){\n        var d = document;\n        d.open();\n        d.domain='"+this.domain+"';\n        d.write('');\n        d.close();\n      })())")},initIframe:function(){var e=this.getIframeNode(),t=e.contentWindow,a=void 0;this.domain=this.domain||"",this.initIframeSrc();try{a=t.document}catch(n){this.domain=document.domain,this.initIframeSrc(),t=e.contentWindow,a=t.document}a.open("text/html","replace"),a.write(this.getIframeHTML(this.domain)),a.close(),this.getFormInputNode().onchange=this.onChange},enableIframe:function(){this.loading=!1,this.getIframeNode().style.display=""},disabledIframe:function(){this.loading=!0,this.getIframeNode().style.display="none"},updateIframeWH:function(){var e=s["default"].findDOMNode(this),t=this.getIframeNode();t.style.height=e.offsetHeight+"px",t.style.width=e.offsetWidth+"px"},render:function(){return o["default"].createElement("span",{style:{position:"relative",zIndex:0}},o["default"].createElement("iframe",{ref:"iframe",onLoad:this.onLoad,style:d}),this.props.children)}});t["default"]=f,e.exports=t["default"]},748:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),s=n(i),l=a(723),c=n(l),u=a(736),p=n(u),d=a(749),f=a(190),m=n(f),h="ant-upload",v=function(e,t){var a=new FileReader;a.onloadend=function(){t(a.result)},a.readAsDataURL(e)};t["default"]=s["default"].createClass({displayName:"uploadList",getDefaultProps:function(){return{listType:"text",items:[],progressAttr:{strokeWidth:3,showInfo:!1}}},handleClose:function(e){this.props.onRemove(e)},componentDidUpdate:function(){var e=this;"picture"===this.props.listType&&this.props.items.forEach(function(t){"undefined"==typeof document||"undefined"==typeof window||!window.FileReader||!window.File||!t.originFileObj instanceof File||void 0!==t.thumbUrl||(t.thumbUrl="",v(t.originFileObj,function(a){t.thumbUrl=a,e.forceUpdate()}))})},render:function(){var e,t=this,a=this.props.items.map(function(e){var a,n=void 0,i=s["default"].createElement(p["default"],{type:"paper-clip"});"picture"===t.props.listType&&(i="uploading"===e.status||!e.thumbUrl&&!e.url?s["default"].createElement(p["default"],{className:h+"-list-item-thumbnail",type:"picture"}):s["default"].createElement("a",{className:h+"-list-item-thumbnail",href:e.url,target:"_blank"},s["default"].createElement("img",{src:e.thumbUrl||e.url,alt:e.name}))),"uploading"===e.status&&(n=s["default"].createElement("div",{className:h+"-list-item-progress"},s["default"].createElement(d.Line,o({},t.props.progressAttr,{percent:e.percent}))));var l=(0,m["default"])((a={},r(a,h+"-list-item",!0),r(a,h+"-list-item-"+e.status,!0),a));return s["default"].createElement("div",{className:l,key:e.uid},s["default"].createElement("div",{className:h+"-list-item-info"},i,s["default"].createElement("span",{className:h+"-list-item-name"},e.name),s["default"].createElement(p["default"],{type:"cross",onClick:t.handleClose.bind(t,e)})),n)}),n=(0,m["default"])((e={},r(e,h+"-list",!0),r(e,h+"-list-"+this.props.listType,!0),e));return s["default"].createElement("div",{className:n},s["default"].createElement(c["default"],{transitionName:h+"-margin-top"},a))}}),e.exports=t["default"]},749:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(750),o=a(1),i=n(o),s=a(718),l=n(s),c=a(736),u=n(c),p="ant-progress",d={normal:"#2db7f5",exception:"#ff6600",success:"#87d068"},f=i["default"].createClass({displayName:"Line",propTypes:{status:i["default"].PropTypes.oneOf(["normal","exception","active","success"]),showInfo:i["default"].PropTypes.bool,percent:i["default"].PropTypes.number,strokeWidth:i["default"].PropTypes.number},getDefaultProps:function(){return{percent:0,strokeWidth:10,status:"normal",format:"${percent}%",showInfo:!0}},render:function(){var e=(0,l["default"])({},this.props);100===parseInt(e.percent,10)&&(e.status="success");var t=void 0,a="",n="string"==typeof e.format?e.format.replace("${percent}",e.percent):e.format;e.showInfo===!0?t="exception"===e.status?i["default"].createElement("span",{className:p+"-line-text"},n):"success"===e.status?i["default"].createElement("span",{className:p+"-line-text"},i["default"].createElement(u["default"],{type:"check"})):i["default"].createElement("span",{className:p+"-line-text"},n):a=" "+p+"-line-wrap-full";var r={width:e.percent+"%",height:e.strokeWidth};return i["default"].createElement("div",{className:p+"-line-wrap clearfix status-"+e.status+a},t,i["default"].createElement("div",{className:p+"-line-outer"},i["default"].createElement("div",{className:p+"-line-inner"},i["default"].createElement("div",{className:p+"-line-bg",style:r}))))}}),m=i["default"].createClass({displayName:"Circle",propTypes:{status:i["default"].PropTypes.oneOf(["normal","exception","success"]),percent:i["default"].PropTypes.number,strokeWidth:i["default"].PropTypes.number,width:i["default"].PropTypes.number},getDefaultProps:function(){return{width:132,percent:0,strokeWidth:6,format:"${percent}%",status:"normal"}},render:function(){var e=(0,l["default"])({},this.props);100===parseInt(e.percent,10)&&(e.status="success");var t={width:e.width,height:e.width,fontSize:.16*e.width+6},a=void 0,n="string"==typeof e.format?e.format.replace("${percent}",e.percent):e.format;return a="exception"===e.status?i["default"].createElement("span",{className:p+"-circle-text"},n):"success"===e.status?i["default"].createElement("span",{className:p+"-circle-text"},i["default"].createElement(u["default"],{type:"check"})):i["default"].createElement("span",{className:p+"-circle-text"},n),i["default"].createElement("div",{className:p+"-circle-wrap status-"+e.status},i["default"].createElement("div",{className:p+"-circle-inner",style:t},i["default"].createElement(r.Circle,{percent:e.percent,strokeWidth:e.strokeWidth,strokeColor:d[e.status],trailColor:"#e9e9e9"}),a))}});t["default"]={Line:f,Circle:m},e.exports=t["default"]},750:function(e,t,a){"use strict";e.exports=a(751)},751:function(e,t,a){"use strict";var n=a(718),r=a(1),o={strokeWidth:1,strokeColor:"#3FC7FA",trailWidth:1,trailColor:"#D9D9D9"},i=r.createClass({displayName:"Line",render:function(){var e=n({},this.props),t={strokeDasharray:"100px, 100px",strokeDashoffset:100-e.percent+"px",transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s linear"};["strokeWidth","strokeColor","trailWidth","trailColor"].forEach(function(t){return"trailWidth"===t&&!e.trailWidth&&e.strokeWidth?void(e.trailWidth=e.strokeWidth):"strokeWidth"===t&&e.strokeWidth&&(!parseFloat(e.strokeWidth)||parseFloat(e.strokeWidth)>100||parseFloat(e.strokeWidth)<0)?void(e[t]=o[t]):void(e[t]||(e[t]=o[t]))});var a=e.strokeWidth,i=a/2,s=100-a/2,l="M "+i+","+i+" L "+s+","+i,c="0 0 100 "+a;return r.createElement("svg",{className:"rc-progress-line",viewBox:c,preserveAspectRatio:"none"},r.createElement("path",{className:"rc-progress-line-trail",d:l,strokeLinecap:"round",stroke:e.trailColor,strokeWidth:e.trailWidth,fillOpacity:"0"}),r.createElement("path",{className:"rc-progress-line-path",d:l,strokeLinecap:"round",stroke:e.strokeColor,strokeWidth:e.strokeWidth,fillOpacity:"0",style:t}))}}),s=r.createClass({displayName:"Circle",render:function(){var e=n({},this.props),t=e.strokeWidth,a=50-t/2,i="M 50,50 m 0,-"+a+"\n     a "+a+","+a+" 0 1 1 0,"+2*a+"\n     a "+a+","+a+" 0 1 1 0,-"+2*a,s=2*Math.PI*a,l={strokeDasharray:s+"px "+s+"px",strokeDashoffset:(100-e.percent)/100*s+"px",transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease"};return["strokeWidth","strokeColor","trailWidth","trailColor"].forEach(function(t){return"trailWidth"===t&&!e.trailWidth&&e.strokeWidth?void(e.trailWidth=e.strokeWidth):void(e[t]||(e[t]=o[t]))}),r.createElement("svg",{className:"rc-progress-circle",viewBox:"0 0 100 100"},r.createElement("path",{className:"rc-progress-circle-trail",d:i,stroke:e.trailColor,strokeWidth:e.trailWidth,fillOpacity:"0"}),r.createElement("path",{className:"rc-progress-circle-path",d:i,strokeLinecap:"round",stroke:e.strokeColor,strokeWidth:e.strokeWidth,fillOpacity:"0",style:l}))}});e.exports={Line:i,Circle:s}},752:function(e,t){"use strict";function a(e,t){var a=e.uid?"byUid":"byName",n=t.filter(function(t){return"byName"===a?t.name===e.name:t.uid===e.uid})[0];return n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a,e.exports=t["default"]}});